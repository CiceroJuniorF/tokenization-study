{
    "routes":[
      {
        "name":"in-hash",
        "method":"POST",
        "url":"/in-hash",
        "upstream":"http://api:3000",
        "request_transformations":[
          {
            "type":"json",
            "expression":"card.number",
            "action":{
              "type":"hash"
            }
          }
        ]
      },
      {
        "name":"in",
        "method":"POST",
        "url":"/in",
        "upstream":"http://api:3000",
        "request_transformations":[
          {
            "type":"json",
            "expression":"card.number",
            "action":{
              "type":"tokenize_and_hash"
            }
          }
        ]
      },
      {
        "name":"out",
        "method":"POST",
        "url":"/out",
        "upstream":"http://api:3000",
        "response_transformations":[
          {
            "type":"json",
            "expression":"requestBody.card.number",
            "action":{
              "type":"detokenize"
            }
          }
        ]
      }
    ]
  }
  